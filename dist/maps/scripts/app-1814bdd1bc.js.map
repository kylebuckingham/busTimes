{"version":3,"sources":["scripts/app-1814bdd1bc.js"],"names":["angular","module","dataService","$http","$q","$log","$timeout","$location","$rootScope","getData","times","days","deferred","defer","queryStr","start","end","get","then","data","resolve","error","promise","$inject","service","optionsCtrl","$scope","$modalInstance","$filter","day","possibleTimes","ok","close","cancel","dismiss","controller","MainController","NgMap","$modal","loading","point","routesIds","indexOf","routeid","push","routes","i","id","label","processData","mapData","weight","parseInt","stopdeviationinseconds","lateness","selectedRoutes","location","google","maps","LatLng","lat","lon","vm","ready","this","$on","event","map","busTimesMap","mOptions","enableSearch","scrollable","scrollableHeight","mTexts","buttonDefaultText","$watch","newVal","oldVal","compute","match","badTime","heatmapLayers","foo","setMap","showInfoWindow","p","infowindow","InfoWindow","center","setContent","setPosition","open","changeOptions","addOptionsModal","animation","animationsEnabled","templateUrl","size","result","options","filter","input","Number","substring","length","obj","key","hasOwnProperty","rdd","ms","Date","toString","bytes","parseFloat","toFixed","str","encodeURIComponent","num","d","h","min","sec","newDate","t","count","Math","floor","addKey","Object","keys","defineProperty","enumerable","value","replace","millseconds","arr","field","_","uniq","a","runBlock","debug","run","routeConfig","$routeProvider","when","controllerAs","otherwise","redirectTo","config","$logProvider","debugEnabled","$templateCache","put"],"mappings":"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","file":"scripts/app-1814bdd1bc.js","sourcesContent":["(function() {\n  'use strict';\n\n  angular\n    .module('frontend',[\n        'ngAnimate',\n        'ngCookies',\n        'ngTouch',\n        'ngSanitize',\n        'ngMessages',\n        'ngAria',\n        'ngResource',\n        'ngRoute',\n        'ui.bootstrap',\n        'ngMap',\n        'angularjs-dropdown-multiselect',\n        'customFilters'\n    ]);\n\n})();\n\n(function() {\n    'use strict';\n\n    angular\n        .module('frontend')\n        .service('dataService', dataService);\n\n    /** @ngInject */\n    function dataService($http, $q, $log, $timeout, $location, $rootScope) {\n\n        // var serialize = function(obj, prefix) {\n        //   var str = [];\n        //   for(var p in obj) {\n        //     if (obj.hasOwnProperty(p)) {\n        //       var k = prefix ? prefix + \"[\" + p + \"]\" : p, v = obj[p];\n        //       str.push(typeof v == \"object\" ?\n        //         serialize(v, k) :\n        //         encodeURIComponent(k) + \"=\" + encodeURIComponent(v));\n        //     }\n        //   }\n        //   return str.join(\"&\");\n        // }\n\n        return {\n            // User Data\n            getData: function(times, days){\n\n                var deferred = $q.defer();\n\n                var queryStr = 'https://3zstizfpne.execute-api.us-west-2.amazonaws.com/prod/records?start=' + times.start + '&end=' + times.end + '&days=' + days;\n\n                // Uncomment for testing\n                // $http.get('app/components/dataServices/data.json')\n                $http.get(queryStr) // comment out for testing\n\n                .then(function(data) {\n                    deferred.resolve(data);\n                }).catch(function(error) {\n                    $log.error(error);\n                    deferred.resolve(null);\n                });\n\n                return deferred.promise;\n            }\n        };\n    }\n})();\n(function() {\n    'use strict';\n\n    angular\n        .module('frontend')\n        .controller('optionsCtrl', optionsCtrl);\n\n    /** @ngInject */\n    function optionsCtrl($scope, $q, $modalInstance, $filter) {\n\n        // days of week button\n        $scope.days = [\"Weekdays\", \"Weekends\",\"Sunday\",\"Monday\", \"Tuesday\",\"Wednesday\",\"Thursday\",\"Friday\", \"Saturday\"];\n        $scope.day = \"Weekdays\";\n\n        $scope.possibleTimes = ['12 am', '1 am','2 am','3 am','4 am','5 am','6 am','7 am','8 am','9 am','10 am','11 am','12 pm','1 pm','2 pm','3 pm','4 pm','5 pm','6 pm','7 pm','8 pm','9 pm','10 pm','11 pm']\n        $scope.times = {\n            start: '6 am',\n            end: '9 am'\n        }\n\n        // Submit settings\n        $scope.ok = function () {\n            $modalInstance.close({\n            \tday: $scope.day,\n            \ttimes: $scope.times\n            });\n        };\n\n        $scope.cancel = function () {\n            $modalInstance.dismiss('cancel');\n        };\n\n    }\n\n})();\n\n\n\n\n\n(function() {\n    'use strict';\n\n    angular\n        .module('frontend')\n        .controller('MainController', MainController);\n\n    /** @ngInject */\n    function MainController($scope, dataService, NgMap, $modal, $filter) {\n\n        var mapData, vm = this;\n        $scope.mapData = [];\n        $scope.lateness = 0;\n\n        $scope.$on('mapInitialized', function (event, map) {\n            $scope.busTimesMap = map;\n        });\n\n        // Multi-select params\n        $scope.selectedRoutes = [];\n        $scope.routes = [];\n        $scope.routesIds = [];\n        $scope.mOptions = {\n            enableSearch: true,\n            scrollable: true,\n            scrollableHeight: '500px'\n        }\n        $scope.mTexts = {\n            buttonDefaultText: 'Select Route(s)'\n        }\n\n\n        function getData(){\n\n            $scope.loading = true;\n            dataService.getData($scope.times, $scope.day).then(function(data){\n                $scope.loading = false;\n                $scope.data = data.data;\n\n                // Process points\n                for (var point in $scope.data){\n                    if ($scope.routesIds.indexOf($scope.data[point].routeid) === -1){\n                        $scope.routesIds.push($scope.data[point].routeid);\n                    }\n                }\n\n                // process routes\n                $scope.routes = [];\n                for (var i in $scope.routesIds){\n                    $scope.routes.push({\n                        id: $scope.routesIds[i],\n                        label: $scope.routesIds[i]\n                    });\n                }\n                processData();\n            });\n        }\n\n        function processData(){\n\n            $scope.mapData = [];\n\n            for (var point in $scope.data){\n                var weight = parseInt($scope.data[point].stopdeviationinseconds);\n\n                if ($scope.lateness < (weight / 60)){\n\n                    // if point in route ids\n                    for (var i in $scope.selectedRoutes){\n                        if ($scope.selectedRoutes[i].id === $scope.data[point].routeid){\n                            $scope.mapData.push({\n                                location: new google.maps.LatLng($scope.data[point].lat, $scope.data[point].lon),\n                                weight: weight / 60,\n                                lat: $scope.data[point].lat,\n                                lon: $scope.data[point].lon,\n                                id: $scope.data[point].routeid\n                            });\n                        }\n                    }\n                }\n            }\n\n            vm.ready = true;\n        }\n\n        $scope.$watch('selectedRoutes', function(newVal, oldVal) {\n            if (newVal !== oldVal){\n                processData();\n            }\n        }, true);\n\n        $scope.compute = function(){\n            var start = parseInt($scope.times.start.match(/\\d+/))\n            var end = parseInt($scope.times.end.match(/\\d+/))\n\n            // convert to military time\n            if ($scope.times.start.indexOf('pm') != -1){\n                start += 12;\n            }\n            if ($scope.times.end.indexOf('pm') != -1){\n                end += 12;\n            }\n\n            if (start > end){\n                $scope.badTime = true;\n            } else {\n                $scope.badTime = false;\n                getData();\n            }\n        }\n\n        $scope.$watch('lateness', function(newVal, oldVal) {\n            if (newVal !== oldVal){\n                processData();\n            }\n        });\n\n        $scope.$watch('heat', function(newVal) {\n            if (newVal === false){\n                $scope.busTimesMap.heatmapLayers.foo.setMap(null);\n            }\n        });\n\n        // map marker popups\n        $scope.showInfoWindow = function (event, p) {\n            var infowindow = new google.maps.InfoWindow();\n            var center = new google.maps.LatLng(p.lat,p.lon);\n            infowindow.setContent('<div><span><b>Route:  </b>' + p.id + '</span><br/>' + '<span><b>Late(median):</b>  ' + $filter('millisToTime')(p.weight * 60 * 1000) + '</span><br/>' + '<span><b>Lat/Lon:</b>  ' + p.lat + ' ' + p.lon + '</span><br/></div>');\n            infowindow.setPosition(center);\n            infowindow.open($scope.busTimesMap);\n         };\n\n        $scope.changeOptions = function() {\n            var addOptionsModal = $modal.open({\n                animation: $scope.animationsEnabled,\n                templateUrl: 'app/main/main.options.html',\n                controller: 'optionsCtrl',\n                size: 'lg'\n            });\n\n            addOptionsModal.result.then(function(options) {\n                $scope.day = options.day;\n                $scope.times = options.times;\n                getData();\n            });\n        };\n\n        $scope.changeOptions();\n\n    }\n})();\n\n(function() {\n    'use strict';\n\n    angular.module('customFilters', [])\n\n    .filter('mn', function() {\n        return function(input) {\n            return Number(input.substring(0, input.length - 2));\n        };\n    })\n\n    .filter('sizer', function() {\n        return function(obj) {\n            var size = 0,\n                key;\n            for (key in obj) {\n                if (obj.hasOwnProperty(key)) {\n                    size++;\n                }\n            }\n            return size;\n        };\n    })\n\n    .filter('getType', function() {\n        return function(rdd) {\n            if (rdd) {\n                if (rdd.indexOf('ShardMapRDD') !== -1) {\n                    return 'Shard Map';\n                } else if (rdd.indexOf('MapRDD') !== -1) {\n                    return 'Map';\n                } else if (rdd.indexOf('ShardReduceRDD') !== -1) {\n                    return 'Shard Reduce';\n                } else if (rdd.indexOf('FilterRDD') !== -1) {\n                    return 'Filter';\n                } else if (rdd.indexOf('SliceRDD') !== -1) {\n                    return 'SliceRDD';\n                }\n            } else {\n                return 'Idle';\n            }\n\n        };\n    })\n\n    .filter('getDate', function() {\n        return function(ms) {\n            return (new Date(ms)).toString();\n        };\n    })\n\n    .filter('bytesToMB', function() {\n        return function(bytes) {\n            return parseFloat(bytes / 1024 / 1024).toFixed(2);\n        };\n    })\n\n    .filter('encode', function() {\n        return function(str) {\n            return encodeURIComponent(str);\n        };\n    })\n\n    .filter('shortenStr', function() {\n        return function(str, length) {\n            return str.substring(0, length) + '...';\n        };\n    })\n\n    .filter('isDuplicate', function() {\n        return function(input, id) {\n            var i;\n            for (i in input) {\n                if (input[i].id === id) {\n                    return true;\n                }\n            }\n            return false;\n        };\n    })\n\n    .filter('millisToTime', function() {\n        return function(num) {\n\n            var times = {\n                d: 86400000,\n                h: 3600000,\n                min: 60000,\n                sec: 1000\n            }, newDate = '';\n\n            for (var t in times){\n                if (num / times[t] >= 1){\n                    var count = Math.floor(num / times[t]);\n                    num = num - (count * times[t]);\n                    newDate += count + t + ' ';\n                }\n            }\n\n            return newDate;\n        };\n    })\n\n    // Execution Server\n    .filter('toArray', function() {\n        return function(obj, addKey) {\n            if (addKey === false) {\n                return Object.keys(obj).map(function(key) {\n                    return obj[key];\n                });\n            } else {\n                return Object.keys(obj).map(function(key) {\n                    if (typeof obj[key] === 'object') {\n                        return Object.defineProperty(obj[key], '$key', {\n                            enumerable: false,\n                            value: key\n                        });\n                    }\n                });\n            }\n        };\n    })\n\n    .filter('alphaNum', function() {\n        return function(input) {\n            return input.replace(/\\W/g, '');\n        };\n    })\n\n    .filter('secondsToTimeString', function() {\n        return function(millseconds) {\n\n            if (millseconds === '0') {\n                return 'All Time';\n            } else if (millseconds === '60') {\n                return '1 min';\n            } else if (millseconds === '600') {\n                return '10 min';\n            } else if (millseconds === '3600') {\n                return '1 hour';\n            }\n\n        };\n    })\n\n    .filter('unique', function() {\n        return function (arr, field) {\n            return _.uniq(arr, function(a) { return a[field]; });\n        };\n    });\n\n})();\n(function() {\n  'use strict';\n\n  angular\n    .module('frontend')\n    .run(runBlock);\n\n  /** @ngInject */\n  function runBlock($log) {\n\n    $log.debug('runBlock end');\n  }\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('frontend')\n    .config(routeConfig);\n\n  function routeConfig($routeProvider) {\n    $routeProvider\n      .when('/', {\n        templateUrl: 'app/main/main.html',\n        controller: 'MainController',\n        controllerAs: 'vm'\n      })\n      .otherwise({\n        redirectTo: '/'\n      });\n  }\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('frontend')\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('frontend')\n    .config(config);\n\n  /** @ngInject */\n  function config($logProvider) {\n    // Enable log\n    $logProvider.debugEnabled(true);\n\n  }\n\n})();\n\nangular.module(\"frontend\").run([\"$templateCache\", function($templateCache) {$templateCache.put(\"app/main/main.html\",\"<div class=\\\"container\\\"><div class=\\\"cssload-dots\\\" ng-if=\\\"loading\\\"><div class=\\\"cssload-dot\\\"></div><div class=\\\"cssload-dot\\\"></div><div class=\\\"cssload-dot\\\"></div><div class=\\\"cssload-dot\\\"></div><div class=\\\"cssload-dot\\\"></div></div><svg version=\\\"1.1\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\"><defs><filter id=\\\"goo\\\"><fegaussianblur in=\\\"SourceGraphic\\\" result=\\\"blur\\\" stddeviation=\\\"12\\\"></fegaussianblur><fecolormatrix in=\\\"blur\\\" mode=\\\"matrix\\\" values=\\\"1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 18 -7\\\" result=\\\"goo\\\"></fecolormatrix></filter></defs></svg><map zoom=\\\"11\\\" id=\\\"map\\\" center=\\\"[47.609722,-122.333056]\\\"><marker ng-if=\\\"marks === true && mapData\\\" ng-repeat=\\\"pos in mapData\\\" position=\\\"{{pos.lat}},{{pos.lon}}\\\" on-click=\\\"showInfoWindow(event, pos)\\\"></marker><heatmap-layer ng-if=\\\"heat === true && mapData\\\" data=\\\"mapData\\\" id=\\\"foo\\\"></heatmap-layer></map><div class=\\\"step2\\\" ng-show=\\\"!loading\\\" ng-hide=\\\"hideSteps\\\"><div class=\\\"step1\\\"><span class=\\\"title\\\">Step 2:</span><span>Select your route(s) and click either \\\"heatmap\\\" or \\\"markers\\\" to see specific stop location</span></div><div class=\\\"cancel\\\" ng-click=\\\"hideSteps = true\\\"><span class=\\\"glyphicon glyphicon-remove-sign\\\" aria-hidden=\\\"true\\\"></span></div></div><div class=\\\"controls\\\" ng-show=\\\"!loading\\\"><div ng-dropdown-multiselect=\\\"\\\" options=\\\"routes\\\" selected-model=\\\"selectedRoutes\\\" extra-settings=\\\"mOptions\\\" translation-texts=\\\"mTexts\\\"></div><div><div class=\\\"checkbox\\\"><label><input type=\\\"checkbox\\\" value=\\\"marks\\\" ng-click=\\\"marks = !marks\\\">Show Stops</label></div><div class=\\\"checkbox\\\"><label><input type=\\\"checkbox\\\" value=\\\"heat\\\" ng-click=\\\"heat = !heat\\\">Heat Map</label></div></div><div><span>Filter by Lateness (min)</span> <input type=\\\"number\\\" id=\\\"lateness\\\" name=\\\"quantity\\\" min=\\\"0\\\" ng-model=\\\"lateness\\\"></div><button type=\\\"button\\\" class=\\\"btn btn-primary editOptions\\\" ng-click=\\\"changeOptions()\\\">Edit Times</button></div></div>\");\n$templateCache.put(\"app/main/main.options.html\",\"<div class=\\\"createGraphDb\\\"><div class=\\\"modal-body\\\"><div class=\\\"col-md-4\\\"><h4>What\\'s this?</h4><div><span>Buses are late (a lot). You can use this site to see where your bus tends to get off schedule.</span></div></div><form class=\\\"form-horizontal explanation col-md-8\\\"><div class=\\\"step1\\\"><span class=\\\"title\\\">Step 1:</span><span>Input the general time of your commute and press \\\"go\\\".</span></div><div class=\\\"form-group\\\"><label class=\\\"col-sm-4 control-label\\\">Select Days:</label><div class=\\\"col-sm-5\\\"><select name=\\\"days\\\" ng-options=\\\"days for days in days\\\" ng-model=\\\"day\\\"></select></div></div><div class=\\\"form-group\\\"><label class=\\\"col-sm-4 control-label\\\">Select Times:</label><div class=\\\"col-sm-5\\\"><select name=\\\"start\\\" ng-options=\\\"time for time in possibleTimes\\\" ng-model=\\\"times.start\\\"></select>to<select name=\\\"end\\\" ng-options=\\\"time for time in possibleTimes\\\" ng-model=\\\"times.end\\\"></select><div><span ng-if=\\\"badTime\\\">Start must become before end</span></div></div></div></form></div><div class=\\\"modal-footer\\\"><button class=\\\"btn btn-primary\\\" type=\\\"button\\\" ng-click=\\\"ok()\\\">Go!</button></div><div class=\\\"cancel\\\" ng-click=\\\"cancel()\\\"><span class=\\\"glyphicon glyphicon-remove-sign\\\" aria-hidden=\\\"true\\\"></span></div></div>\");}]);"],"sourceRoot":"/source/"}